% !TEX program = pdflatex
% !TEX ext =  --interaction=nonstopmode --enable-etex
% !BIB program = none
\documentclass{article}
\RequirePackage{expl3}

\ExplSyntaxOn

\tl_new:N \l__starray_prefix_tl

\cs_generate_variant:Nn \tl_set:Nn {Ne }

\prg_new_protected_conditional:Npnn \__starray_if_free:n #1 {T, F, TF}
  {
    \prop_if_exist:cTF {#1}
      { \prg_return_false: }
      { \prg_return_true: }
  }

\prg_generate_conditional_variant:Nnn \__starray_if_free:n {e} {p, T, F, TF}

\prg_new_protected_conditional:Npnn \starray_new:n #1 { T, F, TF}
  {
    \__starray_if_free:nTF {\l__starray_prefix_tl #1 _def_prop}
      {
        \prg_return_true:
      }
      { \prg_return_false: }
  }

\prg_generate_conditional_variant:Nnn \starray_new:n {e} {p , T, F, TF}

%\ExplSyntaxOff

\begin{document}
 this ~  is ~ just ~ a  ~ test

\tl_new:N \l__test_tl

\tl_set:No \l__test_tl { ~some }

\l__test_tl 
% \bool_if:nTF { \starray_new_p:n {myfoo} }
%  { \message { TRUE } }
%  { \message { FALSE } }

 
 
 
\end{document}

  
\ExplSyntaxOff
